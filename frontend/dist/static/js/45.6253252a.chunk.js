"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[45],{5242:(e,t,n)=>{n.d(t,{$:()=>l});var s=n(4414);const l=e=>{const{className:t,label:n,onClick:l}=e;return(0,s.jsx)("button",{className:"w-full text-white font-medium text-sm shadow-lg rounded-lg py-2 ".concat(null!==t&&void 0!==t?t:""),onClick:l,children:n})}},5660:(e,t,n)=>{n.d(t,{l:()=>g});var s=n(6583),l=n(33),i=n(8170),o=n(8874),a=n(9925),r=n(5979),c=n(3788),d=n(5383),u=n(4322),m=n(9739),v=n(226),x=n(9950),h=n(4414);const g=e=>{const{open:t,title:n,content:g,cancelText:p,submitText:f,placeholder:b,defaultValue:w,inputType:j,onSubmit:y,onClose:N,selectOptions:_}=e,A=(0,x.useRef)(null),[C,k]=(0,x.useState)("");return(0,x.useEffect)((()=>{var e;k(null!==(e=null===_||void 0===_?void 0:_[0].value)&&void 0!==e?e:"")}),[_]),(0,h.jsxs)(s.A,{onClose:N,open:t,children:[(0,h.jsx)(l.A,{children:n}),(0,h.jsxs)(i.A,{children:[g&&(0,h.jsx)(o.A,{children:g}),"select"!==j?(0,h.jsx)(a.A,{autoFocus:!0,fullWidth:!0,ref:A,className:"mt-8",type:j,label:b,defaultValue:w}):(0,h.jsxs)(r.A,{sx:{my:2},fullWidth:!0,children:[(0,h.jsx)(c.A,{id:"select",children:b}),(0,h.jsx)(d.A,{labelId:"select",label:b,defaultValue:null===_||void 0===_?void 0:_[0].value,onChange:e=>{let{target:t}=e;return k(null===t||void 0===t?void 0:t.value)},children:null===_||void 0===_?void 0:_.map((e=>{let{value:t,label:n}=e;return(0,h.jsx)(u.A,{value:t,children:n},t)}))})]})]}),(0,h.jsxs)(m.A,{children:[p&&(0,h.jsx)(v.A,{onClick:N,children:p}),(0,h.jsx)(v.A,{onClick:()=>{var e,t;y&&y("select"===j?C:null!==(e=null===(t=A.current)||void 0===t?void 0:t.value)&&void 0!==e?e:"")},children:f})]})]})}},898:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(4414);const l=e=>{const{embedded:t,className:n,label:l,sublabel:i,children:o}=e;return(0,s.jsx)("div",{className:"w-full text-gray-800",children:(0,s.jsxs)("div",{className:"flex flex-col shadow-lg rounded-lg",children:[(0,s.jsxs)("div",{className:"px-4 py-3 font-bold",children:[i&&(0,s.jsx)("h6",{className:"text-gray-500 text-xs",children:i}),(0,s.jsx)("h2",{className:t?"text-md":"text-lg",children:l})]}),(0,s.jsx)("div",{className:"p-4 m-2 flex flex-col justify-center gap-4 ".concat(null!==n&&void 0!==n?n:""),children:o})]})})}},9693:(e,t,n)=>{n.d(t,{l:()=>x});var s=n(6583),l=n(8060),i=n(3239),o=n(2053),a=n(226),r=n(249),c=n(2610),d=n(7357),u=n(3563),m=n(4745),v=n(4414);const x=e=>{const{title:t,open:n,options:x,onClose:h,onSelect:g}=e;return(0,v.jsxs)(s.A,{fullWidth:!0,onClose:h,open:n,children:[(0,v.jsx)(l.A,{className:"bg-violet-500",sx:{position:"relative"},children:(0,v.jsxs)(i.A,{children:[(0,v.jsx)(o.A,{sx:{mt:1,ml:1,flex:1},variant:"h6",children:t}),(0,v.jsx)(a.A,{autoFocus:!0,color:"inherit",onClick:h,children:"X"})]})}),(0,v.jsx)(r.A,{children:!(null===x||void 0===x||!x.length)&&x.map((e=>e.length>1&&(0,v.jsxs)("div",{children:[(0,v.jsx)(c.Ay,{children:(0,v.jsx)(d.A,{onClick:()=>g&&g(e[1]),children:(0,v.jsx)(u.A,{primary:e[0],secondary:e[3===e.length?2:1].split("\n").map((e=>(0,v.jsxs)("span",{children:[e,(0,v.jsx)("br",{})]},e)))})})}),(0,v.jsx)(m.A,{})]},e[1])))})]})}},3740:(e,t,n)=>{n.d(t,{w:()=>l});var s=n(5887);const l=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?s.Ay.error(e,{duration:t}):s.Ay.success(e,{duration:t})}},1045:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(9950),l=n(5297),i=n(5242),o=n(898),a=n(7818),r=n(3740),c=n(5887),d=n(4414);var u=n(2569),m=n(9145),v=n(5660),x=n(3060),h=n(9693),g=n(1596);const p=()=>{var e,t,n,p,f,b,w;const{t:j}=(0,a.Bd)(),y=(0,u.wA)(),{retention:N,duration:_,scales:A}=m.c,C=()=>setTimeout((()=>window.location.reload()),2500),[k,T]=(0,s.useState)({open:!1,inputType:"number"}),S=()=>T({...k,open:!1}),q=e=>{if(null!==e&&void 0!==e&&e.length){const t=parseInt(e),{maximum:n,minimum:s}=N;if(isNaN(t)||t<s||t>n)return;(0,r.w)(j("views.setting.toasts.retention_set",{current:t})),y((0,x.L)(t)),S(),C()}else T({...k,open:!0,values:{...N},onSubmit:q,cancelText:"views.setting.forms.waveform_retention.cancel",submitText:"views.setting.forms.waveform_retention.submit",title:"views.setting.forms.waveform_retention.title",content:"views.setting.forms.waveform_retention.content",placeholder:"views.setting.forms.waveform_retention.placeholder"})},[F,I]=(0,s.useState)({open:!1}),L=()=>I({...F,open:!1}),V=e=>{if(null!==e&&void 0!==e&&e.length){if(A.some((t=>t.property().value===e))){var t;const n=null===(t=A.find((t=>t.property().value===e)))||void 0===t?void 0:t.property().name;(0,r.w)(j("views.setting.toasts.scale_changed",{scale:n})),y((0,g.L)(e)),L(),C()}}else I({...F,open:!0,onSelect:V,title:"views.setting.selects.choose_scale.title",options:A.map((e=>{let{property:t}=e;const{name:n,value:s}=t();return[n,s]}))})},{retention:W}=(0,u.d4)((e=>{let{retention:t}=e;return t})),{duration:O}=(0,u.d4)((e=>{let{duration:t}=e;return t})),{scale:Z}=(0,u.d4)((e=>{let{scale:t}=e;return t})),$=(null===(e=A.find((e=>e.property().value===Z)))||void 0===e?void 0:e.property().name)||"Unknown",[B]=(0,s.useState)([{label:"views.setting.panels.waveform_retention",content:"views.setting.contents.waveform_retention",button:"views.setting.buttons.waveform_retention",className:"bg-teal-700 hover:bg-teal-800",onClick:q,values:{current:W,...N}},{label:"views.setting.panels.query_duration",content:"views.setting.contents.query_duration",button:"views.setting.buttons.query_duration",className:"bg-lime-700 hover:bg-lime-800",onClick:e=>{if(null!==e&&void 0!==e&&e.length){const t=parseInt(e),{maximum:n,minimum:s}=N;if(isNaN(t)||t<s||t>n)return;(0,r.w)(j("views.setting.toasts.duration_set",{current:t})),y((0,x.L)(t)),S(),C()}else T({...k,open:!0,values:{..._},onSubmit:q,cancelText:"views.setting.forms.query_duration.cancel",submitText:"views.setting.forms.query_duration.submit",title:"views.setting.forms.query_duration.title",content:"views.setting.forms.query_duration.content",placeholder:"views.setting.forms.query_duration.placeholder"})},values:{current:O,..._}},{label:"views.setting.panels.select_scale",button:"views.setting.buttons.select_scale",className:"bg-sky-700 hover:bg-sky-800",content:"views.setting.contents.select_scale",onClick:V,values:{scale:$}},{label:"views.setting.panels.purge_cache",content:"views.setting.contents.purge_cache",button:"views.setting.buttons.purge_cache",className:"bg-pink-700 hover:bg-pink-800",onClick:()=>{((e,t)=>{let{title:n="Confirmation",cancelText:s="Cancel",confirmText:l="OK",onConfirmed:i,onCancelled:o,timeout:a=3e4}=t;c.Ay.custom((t=>{let{visible:a,id:r}=t;return(0,d.jsxs)("div",{className:"animate-fade animate-duration-300 max-w-md w-full bg-white shadow-lg rounded-lg flex border ".concat(a?"block":"hidden"),children:[(0,d.jsx)("div",{className:"flex-1 p-4",children:(0,d.jsx)("div",{className:"flex items-start",children:(0,d.jsxs)("div",{className:"ml-3 flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:n}),(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e})]})})}),(0,d.jsxs)("div",{className:"flex border-gray-200 gap-2 items-center justify-center m-2",children:[(0,d.jsx)("button",{onClick:()=>{c.Ay.dismiss(r),i()},className:"w-full border rounded-lg px-3 py-2 flex text-sm font-medium text-white bg-red-500 hover:bg-red-700 ",children:l}),(0,d.jsx)("button",{onClick:()=>{c.Ay.dismiss(r),o&&o()},className:"w-full border rounded-lg px-3 py-2 flex text-sm font-medium hover:bg-gray-300",children:s})]})]})}),{duration:a})})(j("views.setting.toasts.confirm_purge"),{title:j("views.setting.toasts.confirm_title"),confirmText:j("views.setting.toasts.confirm_button"),cancelText:j("views.setting.toasts.cancel_button"),onConfirmed:()=>{(0,r.w)(j("views.setting.toasts.cache_purged")),localStorage.clear(),C()}})}}]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(l.m,{className:"gap-4 grid md:grid-cols-2",children:[B.map((e=>{let{label:t,content:n,button:s,className:l,onClick:a,values:r}=e;return(0,d.jsxs)(o.Z,{className:"",label:j(t),children:[j(n,{...r}).split("\n").map((e=>(0,d.jsx)("div",{children:e},e))),(0,d.jsx)(i.$,{label:j(s),className:l,onClick:()=>a()})]},t)})),(0,d.jsx)(v.l,{...k,onClose:S,title:j(null!==(t=k.title)&&void 0!==t?t:""),cancelText:j(null!==(n=k.cancelText)&&void 0!==n?n:""),submitText:j(null!==(p=k.submitText)&&void 0!==p?p:""),placeholder:j(null!==(f=k.placeholder)&&void 0!==f?f:""),content:j(null!==(b=k.content)&&void 0!==b?b:"",{...k.values})}),(0,d.jsx)(h.l,{...F,onClose:L,title:j(null!==(w=F.title)&&void 0!==w?w:"")})]})})}}}]);