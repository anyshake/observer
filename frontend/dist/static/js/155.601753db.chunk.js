"use strict";(self.webpackChunkobserver=self.webpackChunkobserver||[]).push([[155],{4595:function(e,t,s){var n=s(5671),r=s(3144),a=s(136),l=s(9388),c=s(7313),i=s(5590),o=s(6417),u=function(e){(0,a.Z)(s,e);var t=(0,l.Z)(s);function s(e){var r;return(0,n.Z)(this,s),(r=t.call(this,e)).state={isBusy:!1},r}return(0,r.Z)(s,[{key:"render",value:function(){var e=this.props,t=e.t,s=e.className,n=e.label,r=e.onClick;return(0,o.jsx)("button",{className:"w-full text-white font-medium text-sm shadow-lg rounded-lg py-2 ".concat(s),onClick:r,children:t(n.id,n.format)})}}]),s}(c.Component);t.Z=(0,i.Zh)()(u)},3387:function(e,t,s){var n=s(5671),r=s(3144),a=s(136),l=s(9388),c=s(7313),i=s(5590),o=s(6417),u=function(e){(0,a.Z)(s,e);var t=(0,l.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){var e=this.props,t=e.t,s=e.className,n=e.label,r=e.sublabel,a=e.children,l=Array.isArray(a)?a:[a];return(0,o.jsx)("div",{className:"w-full h-full text-gray-800",children:(0,o.jsxs)("div",{className:"flex flex-col shadow-lg rounded-lg",children:[(0,o.jsxs)("div",{className:"px-4 py-3 font-bold",children:[r&&(0,o.jsx)("h6",{className:"text-gray-500 text-xs",children:t(r.id,r.format)}),(0,o.jsx)("h2",{className:"text-xl",children:t(n.id,n.format)})]}),(0,o.jsx)("div",{className:"p-4 m-2 flex flex-col justify-center gap-4 ".concat(s),children:l.map((function(e,t){return(0,o.jsx)("div",{children:e},t)}))})]})})}}]),s}(c.Component);t.Z=(0,i.Zh)()(u)},2848:function(e,t,s){var n=s(5671),r=s(3144),a=s(136),l=s(9388),c=s(4469),i=s(3604),o=s(7216),u=s(9840),h=s(3213),d=s(7313),p=s(5590),Z=s(6417),f=function(e){(0,a.Z)(s,e);var t=(0,l.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){var e=this.props,t=e.t,s=e.title,n=e.open,r=e.values,a=e.onClose,l=e.onSelect;return(0,Z.jsxs)(c.Z,{onClose:a,open:n,children:[(0,Z.jsx)(i.Z,{children:t(s.id,s.format)}),r.map((function(e,t){return(0,Z.jsx)(o.ZP,{disableGutters:!0,children:(0,Z.jsx)(u.Z,{onClick:function(){return l&&l(e[1])},children:(0,Z.jsx)(h.Z,{primary:e[0],secondary:e[3]?e[3]:e[1]})})},t)}))]})}}]),s}(d.Component);t.Z=(0,p.Zh)()(f)},2155:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var n=s(1413),r=s(5671),a=s(3144),l=s(136),c=s(9388),i=s(7313),o=s(6059),u=s(501),h=s(19),d=s(3670),p=s(5097),Z=s(284),f=s(8669),v=s(4656),x=s(1109),m=s(3387),j=s(6417),g=function(e){(0,l.Z)(s,e);var t=(0,c.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,a.Z)(s,[{key:"render",value:function(){var e=this.props,t=e.className,s=e.children;return(0,j.jsx)("div",{className:t,children:s})}}]),s}(i.Component),y=s(4595),b=s(2848),C=s(5827),w=s(8780),k=s(1236),N=s(6135),S=s(5590),_=function(e){(0,l.Z)(s,e);var t=(0,c.Z)(s);function s(e){var a;return(0,r.Z)(this,s),(a=t.call(this,e)).handlePurgeCache=function(){var e=a.props.t;localStorage.clear(),o.ZP.success(e("views.setting.toasts.cache_purged")),setTimeout((function(){return window.location.reload()}),1e3)},a.handleSelectScale=function(){a.setState((function(e){return{select:(0,n.Z)((0,n.Z)({},e.select),{},{open:!0})}}))},a.handleScaleChange=function(e){var t,s=null===(t=C.Z.app_settings.scales.find((function(t){return t.property().value===e})))||void 0===t?void 0:t.property();a.setState({scale:s||C.m.property(),select:(0,n.Z)((0,n.Z)({},a.state.select),{},{open:!1})});var r=a.props,l=r.t,c=r.updateScale;c&&c(s||C.m.property()),o.ZP.success(l("views.setting.toasts.scale_changed",{scale:e}))},a.state={select:{open:!1,title:{id:"views.setting.selects.choose_scale.title"},values:C.Z.app_settings.scales.map((function(e){return[e.property().name,e.property().value]}))},scale:C.m.property()},a}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var e=this.props.scale.scale;this.setState({scale:e})}},{key:"render",value:function(){var e=this.state,t=e.scale,s=e.select;return(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(d.Z,{}),(0,j.jsx)(f.Z,{}),(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(p.Z,{}),(0,j.jsxs)(x.Z,{layout:"grid",children:[(0,j.jsxs)(m.Z,{className:"h-[200px]",label:{id:"views.setting.cards.select_scale"},children:["\u5f53\u524d\u9707\u5ea6\u6807\u51c6\u4e3a".concat(t.name,"\u3002"),(0,j.jsx)(g,{children:"\u9707\u5ea6\u6807\u51c6\u662f\u7528\u6765\u8861\u91cf\u5730\u9707\u9707\u5ea6\u7684\u6807\u51c6\uff0c\u4e0d\u540c\u7684\u6807\u51c6\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u9707\u5ea6\u503c\u3002"}),(0,j.jsx)(y.Z,{className:"bg-lime-700 hover:bg-lime-800",onClick:this.handleSelectScale,label:{id:"views.setting.buttons.select_scale"}})]}),(0,j.jsxs)(m.Z,{className:"h-[200px]",label:{id:"views.setting.cards.purge_cache"},children:[(0,j.jsx)(g,{children:"\u5e94\u7528\u51fa\u73b0\u95ee\u9898\u65f6\uff0c\u53ef\u5c1d\u8bd5\u91cd\u7f6e\u5e94\u7528\u504f\u597d\u3002"}),(0,j.jsx)(g,{children:"\u6267\u884c\u91cd\u7f6e\u540e\uff0c\u6d4f\u89c8\u5668\u4e2d\u7684\u504f\u597d\u5c06\u88ab\u6e05\u7406\uff0c\u4e0d\u4f1a\u5bf9\u540e\u7aef\u670d\u52a1\u5668\u4ea7\u751f\u5f71\u54cd\u3002"}),(0,j.jsx)(y.Z,{className:"bg-rose-700 hover:bg-rose-800",onClick:this.handlePurgeCache,label:{id:"views.setting.buttons.purge_cache"}})]})]})]}),(0,j.jsx)(Z.Z,{}),(0,j.jsx)(h.Z,{}),(0,j.jsx)(b.Z,(0,n.Z)((0,n.Z)({},s),{},{onSelect:this.handleScaleChange})),(0,j.jsx)(o.x7,{position:"top-center"})]})}}]),s}(i.Component),P=(0,N.$j)(w.Z,{updateScale:k.V})((0,S.Zh)()(_))}}]);