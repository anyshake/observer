"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[398],{1385:(e,t,s)=>{s.d(t,{A:()=>l});s(9950);const l=s.p+"static/media/xmark-solid.33c889ee6afa3ed57684011608af6238.svg"},3202:(e,t,s)=>{s.d(t,{l:()=>c});s(9950);const l=s.p+"static/media/rss-solid.167813b1d681372ed1d98e45b6b6c0f7.svg";const a=s.p+"static/media/link-solid.49819f951200a220d9839699fbccd8de.svg";const o=s.p+"static/media/link-slash-solid.7893b9a51ad07ceedeb88c9649c58439.svg";var n=s(4414);const c=e=>{const{content:t,title:s,type:c,className:i}=e;let r="";switch(c){case"success":r="from-green-400 to-blue-500";break;case"warning":r="from-orange-400 to-orange-600";break;case"error":r="from-red-400 to-red-600"}return(0,n.jsx)("div",{className:"my-2 shadow-xl p-6 text-sm text-white rounded-lg bg-gradient-to-r ".concat(r," ").concat(null!==i&&void 0!==i?i:""),children:(0,n.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,n.jsxs)("div",{className:"flex gap-2 font-bold text-lg",children:[(0,n.jsx)("img",{className:"success"===c?"size-6":"hidden",src:l,alt:""}),(0,n.jsx)("img",{className:"warning"===c?"size-6":"hidden",src:a,alt:""}),(0,n.jsx)("img",{className:"error"===c?"size-6":"hidden",src:o,alt:""}),(0,n.jsx)("span",{children:s})]}),(0,n.jsx)("span",{className:"pl-3 text-md font-medium",children:t.split("\n").map((e=>(0,n.jsxs)("p",{children:[e,(0,n.jsx)("br",{})]},e)))})]})})}},88:(e,t,s)=>{s.d(t,{t:()=>m});var l=s(9950),a=s(3461),o=s.n(a),n=s(1274),c=s(9027),i=s.n(c),r=s(7818),d=s(4414);const m=(0,l.forwardRef)(((e,t)=>{const s=.65*window.devicePixelRatio,{boost:a,title:c,series:m,height:u,legend:h,tooltip:f,zooming:b,animation:v,lineWidth:x,tickInterval:g,tickPrecision:p,lineColor:w,backgroundColor:j}=e,[y,k]=(0,l.useState)(!1);(0,l.useEffect)((()=>{k((()=>{if(window.WebGLRenderingContext){const e=document.createElement("canvas");return["webgl","experimental-webgl","webgl2","moz-webgl","webkit-3d"].some((t=>{try{return!!e.getContext(t)}catch(s){return!1}}))}return!1})())}),[]);const[E,N]=(0,l.useState)({chart:{zooming:b?{type:"x"}:{},marginTop:20,height:u,animation:v,backgroundColor:j},xAxis:{labels:{style:{color:"#fff"},format:"{value:%H:%M:%S}"},type:"datetime",tickColor:"#fff",lineColor:w},yAxis:{labels:{style:{color:"#fff"},format:p?"{value:".concat(p,"f}"):"{value:0.2f}"},title:{text:""},opposite:!0,lineColor:w,tickInterval:g},tooltip:{enabled:f,followPointer:!0,followTouchMove:!0,xDateFormat:"%Y-%m-%d %H:%M:%S",padding:12},legend:{enabled:h,itemStyle:{color:"#fff"}},plotOptions:{series:{lineWidth:x,turboThreshold:a?10:0,boostThreshold:a?1:0,states:{hover:{enabled:!1}}}},title:{text:c,style:{color:"#fff",fontSize:"10px",fontWeight:"normal"}},boost:{enabled:y,pixelRatio:s},accessibility:{enabled:!1},credits:{enabled:!1},time:{useUTC:!1},series:[m]}),{t:S}=(0,r.Bd)();return(0,l.useEffect)((()=>{i()(o())}),[]),(0,l.useEffect)((()=>{o().setOptions({lang:{resetZoom:S("components.chart.reset_zoom"),resetZoomTitle:S("components.chart.reset_zoom_title")}})}),[S]),(0,l.useEffect)((()=>{N((e=>({...e,chart:{...e.chart,height:u},title:{...e.title,text:c},boost:{...e.boost,enabled:y}})))}),[u,c,y]),(0,d.jsx)(n.HighchartsReact,{ref:t,options:E,highcharts:o()})}))},3768:(e,t,s)=>{s.d(t,{h:()=>i,R:()=>r});var l=s(9950);const a=s.p+"static/media/square-caret-up-solid.0573794ec033f5ce25c1076e3ac596e3.svg";const o=s.p+"static/media/ellipsis-solid.e3aced2a80c2b888104322b1ae60b47f.svg";var n=s(1385),c=s(4414);let i=function(e){return e[e.COLLAPSE_DISABLE=0]="COLLAPSE_DISABLE",e[e.COLLAPSE_SHOW=1]="COLLAPSE_SHOW",e[e.COLLAPSE_HIDE=2]="COLLAPSE_HIDE",e}({});const r=e=>{const{label:t,text:s,children:r,collapse:d,advanced:m}=e,[u,h]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=d||i.COLLAPSE_DISABLE;h(e===i.COLLAPSE_HIDE)}),[d]);const v=(d||i.COLLAPSE_DISABLE)!==i.COLLAPSE_DISABLE;return(0,c.jsxs)("div",{className:"mb-4 flex flex-col rounded-xl text-gray-700 shadow-lg",children:[(0,c.jsx)("div",{className:"mx-4 rounded-lg overflow-hidden shadow-lg",children:r}),(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsxs)("h6",{className:"text-md font-bold text-gray-800 flex ".concat(v?"cursor-pointer select-none":""),onClick:()=>v&&h(!u),children:[v&&(0,c.jsx)("img",{className:"mx-1 ".concat(u?"rotate-180":""),src:a,alt:""}),t]}),s&&!u&&(0,c.jsx)("div",{className:"text-md pt-2",children:s.split("\n").map((e=>(0,c.jsx)("div",{children:e},e)))}),m&&(0,c.jsxs)("div",{className:"mt-2 space-y-2 ".concat(u?"hidden":"block"),children:[(0,c.jsxs)("div",{className:"mx-1 cursor-pointer",onClick:()=>b(!f),children:[(0,c.jsx)("img",{className:"size-4 ".concat(f?"hidden":"block"),src:o,alt:""}),(0,c.jsx)("img",{className:"size-4 ".concat(f?"block":"hidden"),src:n.A,alt:""})]}),(0,c.jsx)("div",{className:f?"block":"hidden",children:m})]})]})]})}},1682:(e,t,s)=>{s.d(t,{J:()=>a});var l=s(4414);const a=e=>{const{className:t,icon:s,label:a,value:o,unit:n,color:c}=e;return(0,l.jsx)("div",{className:"w-full p-2 ".concat(null!==t&&void 0!==t?t:""),children:(0,l.jsxs)("div",{className:"flex flex-row bg-gradient-to-r rounded-md p-4 shadow-xl ".concat(c?"from-indigo-500 via-purple-500 to-pink-500":"bg-gray-50 hover:bg-gray-100 transition-all"),children:[s&&(0,l.jsx)("img",{className:"bg-white p-2 rounded-md w-8 h-8 md:w-12 md:h-12 self-center",src:s,alt:""}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow ".concat(s?"ml-5":""),children:[(0,l.jsx)("div",{className:"text-sm whitespace-nowrap ".concat(c?"text-gray-50":"text-gray-600"),children:a}),(0,l.jsx)("div",{className:"text-md font-medium flex-nowrap ".concat(c?"text-gray-100":"text-gray-800"),children:"".concat(o," ").concat(null!==n&&void 0!==n?n:"")})]})]})})}},6021:(e,t,s)=>{s.d(t,{$:()=>a});var l=s(9950);const a=(e,t,s)=>{const a=(0,l.useRef)((()=>{}));(0,l.useEffect)((()=>{a.current=e})),(0,l.useEffect)((()=>{s&&null!==t&&!1!==t&&a.current()}),[s,t]),(0,l.useEffect)((()=>{if(null===t||!1===t)return;const e=setInterval((()=>a.current()),t);return()=>clearInterval(e)}),[t])}},425:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var l=s(7818),a=s(3202),o=s(5297),n=s(3768),c=s(1682),i=s(9950),r=s(88),d=s(9810),m=s(9029),u=s(7113);const h=s.p+"static/media/location-dot-solid.763794361437464c10451de38cd290f7.svg";s(5392);var f=s(2527),b=s.n(f),v=s(4414);const x=e=>{const{className:t,minZoom:s,flyTo:l,maxZoom:a,zoom:o,tile:n,center:c,marker:r,scrollWheelZoom:f,zoomControl:x,dragging:g}=e,p=new(b().Icon)({iconUrl:h,iconAnchor:[9,24],iconSize:[18,25]}),w=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=w.current;e&&e.flyTo(c,o)}),[c,o,l]),(0,v.jsxs)(d.W,{ref:w,className:"z-0 w-full ".concat(null!==t&&void 0!==t?t:""),scrollWheelZoom:f,zoomControl:x,attributionControl:!1,doubleClickZoom:!1,dragging:g,maxZoom:a,minZoom:s,center:c,zoom:o,style:{cursor:"default"},children:[(0,v.jsx)(m.e,{url:n}),r&&(0,v.jsx)(u.p,{position:r,icon:p})]})};const g=s.p+"static/media/circle-check-solid.3fb46b8931cbbf9f966175f42b55a087.svg";const p=s.p+"static/media/bug-solid.7f781f9ddd35c29f11111e36602dcc87.svg";const w=s.p+"static/media/paper-plane-solid.e1f40db20eab51657c5490a69c103292.svg";const j=s.p+"static/media/circle-xmark-solid.ea0857c87457d25b161c3a37ad4e3845.svg";const y=s.p+"static/media/hourglass-half-solid.1e8dc3284939ca52c0fd542da1fbf89b.svg";const k=s.p+"static/media/clock-solid.23025348eaec720a2439930b37d677ee.svg";var E=s(1577),N=s(8526);var S=s(6021);const C=()=>{var e;const[t,s]=(0,i.useState)({type:"warning",title:"views.home.banner.warning.title",content:"views.home.banner.warning.content"}),[d,m]=(0,i.useState)({messages:{color:!0,value:"0",icon:g,unit:"views.home.labels.messages.unit",label:"views.home.labels.messages.label"},errors:{color:!0,value:"0",icon:p,unit:"views.home.labels.errors.unit",label:"views.home.labels.errors.label"},pushed:{color:!0,value:"0",icon:w,unit:"views.home.labels.pushed.unit",label:"views.home.labels.pushed.label"},failures:{color:!0,value:"0",icon:j,unit:"views.home.labels.failures.unit",label:"views.home.labels.failures.label"},queued:{color:!0,value:"0",icon:y,unit:"views.home.labels.queued.unit",label:"views.home.labels.queued.label"},offset:{color:!0,value:"0",icon:k,unit:"views.home.labels.offset.unit",label:"views.home.labels.offset.label"}}),[u,h]=(0,i.useState)({cpu:{chart:{height:250,lineWidth:5,backgroundColor:"#22c55e",ref:(0,i.useRef)(null),series:{type:"line",color:"#fff"}},holder:{label:"views.home.charts.cpu.label",text:"views.home.charts.cpu.text",values:{usage:"0.00"}}},memory:{chart:{height:250,lineWidth:5,backgroundColor:"#06b6d4",ref:(0,i.useRef)(null),series:{type:"line",color:"#fff"}},holder:{label:"views.home.charts.memory.label",text:"views.home.charts.memory.text",values:{usage:"0.00"}}}}),[f,b]=(0,i.useState)({mapbox:{zoom:6,minZoom:3,maxZoom:7,flyTo:!0,center:[0,0],dragging:!1,tile:"/tiles/{z}/{x}/{y}/tile.webp"},holder:{label:"views.home.map.label",text:"views.home.map.text",values:{longitude:"0.00",latitude:"0.00",elevation:"0.00"}}});(0,S.$)((()=>async function(){const{endpoints:e,backend:t}=E.DR,s=await(0,N.c)({backend:t,timeout:30,endpoint:e.station});for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];a.forEach((e=>e(s)))}((e=>((e,t)=>{if(null===e||void 0===e||!e.data)return void t({type:"error",title:"views.home.banner.error.title",content:"views.home.banner.error.content"});const{station:s,uptime:l,os:a}=e.data,{uuid:o,name:n}=s,{arch:c,distro:i}=a;t({title:"views.home.banner.success.title",content:"views.home.banner.success.content",type:"success",values:{uptime:String(l),station:n,os:i,uuid:o,arch:c}})})(e,s)),(e=>((e,t)=>{if(null===e||void 0===e||!e.data)return;const{status:s}=e.data;t((e=>(Object.keys(s).forEach((t=>{if(t in e){const l=s[t];e[t]={...e[t],value:String(l)}}})),e)))})(e,m)),(e=>((e,t)=>{null!==e&&void 0!==e&&e.data&&t((t=>{const{data:s}=e,{timestamp:l}=s;return Object.keys(t).forEach((e=>{if(e in s&&s[e].hasOwnProperty("percent")){const{percent:a}=s[e],{current:o}=t[e].chart.ref;if(o){const e=o.chart.series[0].data.length?o.chart.series[0].data[0].x:l;o.chart.series[0].addPoint([l,a],!0,l-e>=3e5)}t[e]={...t[e],holder:{...t[e].holder,values:{usage:a.toFixed(2)}}}}})),t}))})(e,h)),(e=>((e,t)=>{if(null===e||void 0===e||!e.data)return;const{position:s}=e.data,{longitude:l,latitude:a,elevation:o}=s;t((e=>({...e,mapbox:{...e.mapbox,center:[a,l],marker:[a,l]},holder:{...e.holder,values:{...e.holder.values,elevation:o.toFixed(2),latitude:a.toFixed(2),longitude:l.toFixed(2)}}})))})(e,b)))),2e3,!0);const{t:C}=(0,l.Bd)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.l,{type:t.type,title:C(t.title,{...t.values}),content:C(t.content,{...t.values})}),(0,v.jsx)(o.m,{className:"mt-5 flex flex-wrap",children:Object.values(d).map((e=>{let{label:t,unit:s,...l}=e;return(0,i.createElement)(c.J,{...l,key:t,label:C(t),unit:C(null!==s&&void 0!==s?s:""),className:"md:w-1/2 lg:w-1/3"})}))}),(0,v.jsx)(o.m,{className:"mt-5 gap-4 grid grid-cols-1 md:grid-cols-2",children:Object.values(u).map((e=>{var t;let{holder:s,chart:l}=e;return(0,v.jsx)(n.R,{label:C(s.label),text:C(null!==(t=s.text)&&void 0!==t?t:"",{...s.values}),children:(0,v.jsx)(r.t,{...l})},s.label)}))}),(0,v.jsx)(o.m,{children:(0,v.jsx)(n.R,{label:C(f.holder.label),text:C(null!==(e=f.holder.text)&&void 0!==e?e:"",{...f.holder.values}),children:(0,v.jsx)(x,{className:"h-[400px]",...f.mapbox})})})]})}}}]);